
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../redis-grafana-docker/">
      
      
        <link rel="next" href="../jetson-xavier/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.5">
    
    
      
        <title>OLED Display using Groove Hat on Jetson Nano - IoETPlanet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#feature" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IoETPlanet" class="md-header__button md-logo" aria-label="IoETPlanet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IoETPlanet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OLED Display using Groove Hat on Jetson Nano
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IoETPlanet" class="md-nav__button md-logo" aria-label="IoETPlanet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    IoETPlanet
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Raspberry Pi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Raspberry Pi" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Raspberry Pi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../raspberrypi/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../raspberrypi/docker-on-raspberrypi/" class="md-nav__link">
        Installing Docker on Raspberry Pi
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" tabindex="0" aria-expanded="false">
          Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../raspberrypi/projects/Pico/" class="md-nav__link">
        Pico Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../raspberrypi/projects/GPS/getting-started/" class="md-nav__link">
        Using GPS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          NVIDIA Jetson Nano
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="NVIDIA Jetson Nano" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          NVIDIA Jetson Nano
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../docker-on-jetson-nano/" class="md-nav__link">
        Installing Docker on NVIDIA Jetson
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_3" tabindex="0" aria-expanded="true">
          Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redis-grafana-docker/" class="md-nav__link">
        BME Sensor Analytics using Redis TimeSeries, Grafana and Docker
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          OLED Display using Groove Hat on Jetson Nano
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        OLED Display using Groove Hat on Jetson Nano
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#feature" class="md-nav__link">
    Feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-plug-the-grove-base-hat-into-jetson-nano" class="md-nav__link">
    Step 1. Plug the Grove Base Hat into Jetson Nano
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-connect-oled" class="md-nav__link">
    Step 2. Connect OLED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-one-click-installation" class="md-nav__link">
    Step 3. One-click installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-using-i2cdetect-command" class="md-nav__link">
    Step 4. Using i2cdetect command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-running-the-python-script" class="md-nav__link">
    Step 5. Running the Python Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-executing-the-script" class="md-nav__link">
    Step 6. Executing the script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    Results:
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          NVIDIA AGX Xavier
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="NVIDIA AGX Xavier" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          NVIDIA AGX Xavier
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jetson-xavier/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../docker-on-xavier/" class="md-nav__link">
        Installing Docker on NVIDIA Jetson Xavier
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          DJI Tello Drone
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DJI Tello Drone" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          DJI Tello Drone
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tellodrone/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tellodrone/python/" class="md-nav__link">
        Using Python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" tabindex="0" aria-expanded="false">
          DJI Robomaster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DJI Robomaster" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          DJI Robomaster
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../robomaster/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#feature" class="md-nav__link">
    Feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-plug-the-grove-base-hat-into-jetson-nano" class="md-nav__link">
    Step 1. Plug the Grove Base Hat into Jetson Nano
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-connect-oled" class="md-nav__link">
    Step 2. Connect OLED
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-one-click-installation" class="md-nav__link">
    Step 3. One-click installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-using-i2cdetect-command" class="md-nav__link">
    Step 4. Using i2cdetect command
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-running-the-python-script" class="md-nav__link">
    Step 5. Running the Python Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-executing-the-script" class="md-nav__link">
    Step 6. Executing the script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    Results:
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>OLED Display using Groove Hat on Jetson Nano</h1>

<p>Grove Shield for Jetson Nano is an expansion board for Jetson Nano, designed by Seeed Studio, for the orderliness of your connected sensors when you develop projects with Pi. It maintains 24-Pin GPIO and provides 15 additional Grove ports based on the MM32 chip, along with other interfaces, giving you a great and quick development experience.</p>
<h2 id="feature">Feature</h2>
<ul>
<li>Grove &amp; GPIO Pi Hat for Raspberry Pi Series: Break out all the pins and power of the Raspberry Pi to provide 15 multi-function. Grove ports and compatible 24-Pin GPIO based on a 12-bit ADC MM32 chip</li>
<li>Rich Peripherals for Grove: Provide 15 Grove ports including 3× I2C, 1× UART, 6× Digital, and 4× Analog, which also contains 1x PWM port, and the SWD Debug interface.</li>
<li>Plug and Play: Benefit from convenient Grove connectors that supports more than 60 Grove modules</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<h2 id="step-1-plug-the-grove-base-hat-into-jetson-nano">Step 1. Plug the Grove Base Hat into Jetson Nano</h2>
<p><img alt="Image01" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r38f2ni8boo4bmikncxb.png" /></p>
<h2 id="step-2-connect-oled">Step 2. Connect OLED</h2>
<p><img alt="Image1" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sib3kyv927ywgsrks16p.png" /></p>
<h2 id="step-3-one-click-installation">Step 3. One-click installation</h2>
<p>One-click installation, quick start, what ever you call, with the single command below, we can install/update all dependencies and latest grove.py.</p>
<pre><code>curl -sL https://github.com/Seeed-Studio/grove.py/raw/master/install.sh | sudo bash -s -
</code></pre>
<p>if everything goes well, you will see the following notice.</p>
<pre><code>...
...
#######################################################
  Lastest Grove.py from github install complete   !!!!!
#######################################################
</code></pre>
<p>If you use the I2C tool to scan the I2C address of the grove module, you may find two or more address. 0x04 is the adrress of the Grove Base Hat for Raspberry Pi.</p>
<h2 id="step-4-using-i2cdetect-command">Step 4. Using i2cdetect command</h2>
<pre><code> i2cdetect -r -y 1
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- 08 -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- 3c -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: -- -- -- -- -- -- 76 --                  
</code></pre>
<p>This is the output of the i2cdetect command, which is used to scan for I2C (Inter-Integrated Circuit) devices connected to a system. The command lists the I2C device addresses found on bus 1 (-y 1).</p>
<p>The first row represents the I2C addresses in hexadecimal form (0x00 to 0x7F). The following rows indicate the presence of an I2C device at the corresponding address by showing a two-digit hexadecimal number. An empty cell (--) means that there is no device at the corresponding address.</p>
<p>Based on the output, there are two I2C devices detected at addresses 0x3c and 0x76. The address 0x3c might correspond to a display controller or a sensor, while the address 0x76 might correspond to a barometer or a temperature sensor.</p>
<p>It is important to note that this output only indicates the presence of the I2C devices and not their functionality. Further testing and analysis are required to determine if the devices are working correctly.</p>
<h2 id="step-5-running-the-python-script">Step 5. Running the Python Script</h2>
<pre><code>git clone https://github.com/Seeed-Studio/grove.py
cd grove.py/grove
</code></pre>
<pre><code>#!/bin/bash
#
: &lt;&lt;'EOF'
The MIT License (MIT)

Seeed-Studio Raspberry Pi Hats.
  Peter Yang, turmary@126.com
Copyright (C) 2018 Seeed Technology Co.,Ltd.
EOF


_DEBUG=0

_install_extra_library=true

_package_name=grove.py
_seeed_source_list=/etc/apt/sources.list.d/seeed.list
_seeed_apt_key=&quot;BB8F 40F3&quot;
_repo_package_url=https://github.com/Seeed-Studio/$_package_name/archive/master.zip

BLACKLIST=/etc/modprobe.d/raspi-blacklist.conf
CONFIG=/boot/config.txt
if [ $_DEBUG -ne 0 ]; then
    BLACKLIST=./raspi-blacklist.conf
    CONFIG=./config.txt
fi


set_config_var() {
    lua - &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &lt;&lt;EOF &gt; &quot;$3.bak&quot;
local key=assert(arg[1])
local value=assert(arg[2])
local fn=assert(arg[3])
local file=assert(io.open(fn))
local made_change=false
for line in file:lines() do
    if line:match(&quot;^#?%s*&quot;..key..&quot;=.*$&quot;) then
        line=key..&quot;=&quot;..value
        made_change=true
    end
    print(line)
end

if not made_change then
    print(key..&quot;=&quot;..value)
end
EOF

    mv &quot;$3.bak&quot; &quot;$3&quot;
}

get_i2c() {
    egrep -q &quot;^(device_tree_param|dtparam)=([^,]*,)*i2c(_arm)?(=(on|true|yes|1))?(,.*)?$&quot; $CONFIG
    echo $?
}

do_i2c() {
    DEFAULT=--defaultno
    if [ $(get_i2c) -eq 0 ]; then
        DEFAULT=
    fi
    RET=$1
    if [ $RET -eq 0 ]; then
        SETTING=on
        STATUS=enabled
    elif [ $RET -eq 1 ]; then
        SETTING=off
        STATUS=disabled
    else
        return $RET
    fi

    set_config_var dtparam=i2c_arm $SETTING $CONFIG &amp;&amp;
    if ! [ -e $BLACKLIST ]; then
        touch $BLACKLIST
    fi
    sed $BLACKLIST -i -e &quot;s/^\(blacklist[[:space:]]*i2c[-_]bcm2708\)/#\1/&quot;
    sed /etc/modules -i -e &quot;s/^#[[:space:]]*\(i2c[-_]dev\)/\1/&quot;
    if ! grep -q &quot;^i2c[-_]dev&quot; /etc/modules; then
        printf &quot;i2c-dev\n&quot; &gt;&gt; /etc/modules
    fi
    dtparam i2c_arm=$SETTING
    modprobe i2c-dev
}

function apt_install() {
    pkg_name=$1

    for ((i = 0; i &lt; 3; i++)); {
        apt-get install -y $pkg_name
        pkg_status=$(dpkg -s $pkg_name | egrep &quot;Status:.*&quot; | awk '{ printf &quot;%s&quot;, $2; }')
        [ &quot;$pkg_status&quot; == &quot;install&quot; ] &amp;&amp; return 0
    }
    return 1
}

alias  pip=' pip --no-cache-dir'
alias pip3='pip3 --no-cache-dir'

function pip_install() {
    local fields
    pkg_name=$1
    pip_cmd=${2}

    fields=( $pip_cmd )
    for ((i = 0; i &lt; 3; i++)); {
        $pip_cmd
        pkg_status=$(${fields[0]} list --format=columns | egrep &quot;$pkg_name &quot; | awk '{ printf &quot;%s&quot;, $1; }')
        [ &quot;$pkg_status&quot; == &quot;$pkg_name&quot; ] &amp;&amp; return 0
    }
    return 1
}

function platform_get() {
    local dts_model platform

    dts_model=$(strings /proc/device-tree/model)

    case &quot;$dts_model&quot; in
    TI\ AM335x*)
        platform=bbb;;
    Raspberry\ Pi*)
        platform=rpi;;
    Freescale\ i\.MX8MQ\ Phanbell)
        platform=coral;;
    NVIDIA\ Jetson\ Nano*)
        platform=jetson_nano;;
    *)
        platform=&quot;unknown&quot;;;
    esac
    echo $platform
}



# Get platform type
platform=$(platform_get)

if [[ &quot;$platform&quot; == &quot;jetson_nano&quot; ]];then
    _install_extra_library=false
fi  

do_uninstall=false
if [ &quot;$1&quot; == &quot;uninstall&quot; ]; then
    do_uninstall=true
fi

# Everything else needs to be run as root
if [ $(id -u) -ne 0 ]; then
    printf &quot;Script must be run as root. Try 'sudo $0'\n&quot;
    exit 1
fi

### Uninstall this package ###
if [ &quot;$do_uninstall&quot; == &quot;true&quot; ]; then
    # To remove all users installaon
    pip  uninstall -y $_package_name
    pip3 uninstall -y $_package_name
    apt-get -y remove python-grove-py
    apt-get -y remove python3-grove-py
    exit 0
fi

# install dependencies
### add repository
if [ ! -f $_seeed_source_list ]; then
    case &quot;$platform&quot; in
    coral)
        code_name=&quot;mendel-beaker&quot;;;
    rpi)
        code_name=&quot;stretch&quot;;;
    jetson_nano)
        code_name=&quot;bionic&quot;;;
    *)
        code_name=&quot;unknown&quot;;;
    esac
    echo &quot;deb https://seeed-studio.github.io/pi_repo/ $code_name main&quot; | tee $_seeed_source_list
fi

### add public GPG key
if ! apt-key list | egrep &quot;$_seeed_apt_key&quot; &gt; /dev/null; then
    curl https://seeed-studio.github.io/pi_repo/public.key | apt-key add -
fi



## Initial installation
r=0

## Update apt source
apt -y update

case &quot;$platform&quot; in
coral)
    apt_install python-pip
    apt_install python3-pip
    apt_install python-setuptools
    apt_install python3-setuptools
    apt_install python-wheel
    apt_install python3-wheel

    ## install library enum
    ;;
jetson_nano)

    apt_install python-pip  
    apt_install python3-pip
    apt_install python-setuptools
    apt_install python3-setuptools
    apt_install python-wheel
    apt_install python3-wheel
    pushd .
    cd `dirname $0`
    cp ./udev/jetson-nano/99-tegra-i2cset.rules /etc/udev/rules.d/
    popd    
    ;;
rpi)
    apt_install python-pip  
    apt_install python3-pip

    ### install I2C ###
    if [ $(get_i2c) -ne 0 ]; then
        # enable i2c interface
        echo Enable I2C interface ...
        do_i2c 0
    fi
    echo I2C interface enabled...

    ## install library raspberry-gpio-python
    (( r == 0 )) &amp;&amp; { apt_install python-rpi.gpio;  r=$?; }
    (( r == 0 )) &amp;&amp; { apt_install python3-rpi.gpio; r=$?; }
    ;;

*)
    echo &quot;unsupport platform $platform, abort ...&quot;
    exit 1
    ;;
esac

## install MRAA &amp; UPM
### libmraa
(( r == 0 )) &amp;&amp; { apt_install libmraa1;    r=$?; }

### python2
(( r == 0 )) &amp;&amp; { apt_install python-mraa; r=$?; }
(( r == 0 )) &amp;&amp; { apt_install python-upm;  r=$?; }

### python3
(( r == 0 )) &amp;&amp; { apt_install python3-mraa;r=$?; }
(( r == 0 )) &amp;&amp; { apt_install python3-upm; r=$?; }

## install library libbma456
if [[ &quot;$_install_extra_library&quot; == &quot;true&quot; ]];then
    (( r == 0 )) &amp;&amp; { apt_install libbma456; r=$?; }
fi

## install library libbmi088
if [[ &quot;$_install_extra_library&quot; == &quot;true&quot; ]];then
    (( r == 0 )) &amp;&amp; { apt_install libbmi088; r=$?; }
fi

## install library rpi-ws281x
if [ &quot;X$platform&quot; == &quot;Xrpi&quot; ]; then
    (( r == 0 )) &amp;&amp; { pip_install rpi-ws281x 'pip  install rpi-ws281x'; r=$?; }
    (( r == 0 )) &amp;&amp; { pip_install rpi-ws281x 'pip3 install rpi-ws281x'; r=$?; }
fi

## install library smbus
(( r == 0 )) &amp;&amp; { pip_install smbus  'pip  install smbus'; r=$?; }
(( r == 0 )) &amp;&amp; { pip_install smbus  'pip3 install smbus'; r=$?; }

## install library smbus2
(( r == 0 )) &amp;&amp; { pip_install smbus2 'pip  install smbus2'; r=$?; }
(( r == 0 )) &amp;&amp; { pip_install smbus2 'pip3 install smbus2'; r=$?; }

## install library bme680

(( r == 0 )) &amp;&amp; { pip_install bme680 'pip  install bme680'; r=$?; }
(( r == 0 )) &amp;&amp; { pip_install bme680 'pip3 install bme680'; r=$?; }

## install library rpi-vl53l0x
if [[ &quot;$_install_extra_library&quot; == &quot;true&quot; ]];then
    (( r == 0 )) &amp;&amp; { pip_install rpi-vl53l0x 'pip  install rpi-vl53l0x'; r=$?; }
    (( r == 0 )) &amp;&amp; { pip_install rpi-vl53l0x 'pip3 install rpi-vl53l0x'; r=$?; }
fi

## install library sgp30
(( r == 0 )) &amp;&amp; { pip_install sgp30 'pip  install sgp30'; r=$?; }
(( r == 0 )) &amp;&amp; { pip_install sgp30 'pip3 install sgp30'; r=$?; }
# install this python repository
(( r == 0 )) &amp;&amp; { pip_install grove.py &quot;pip  install --upgrade $_repo_package_url&quot;; r=$?; }
(( r == 0 )) &amp;&amp; { pip_install grove.py &quot;pip3 install --upgrade $_repo_package_url&quot;; r=$?; }
(( r == 0 )) &amp;&amp; { which grove_button &gt; /dev/null; r=$?; }

(( r != 0 )) &amp;&amp; {
    echo &quot;-------------------------------------------------------&quot;
    echo &quot;     Grove.py installation FAILED, FAILED, FAILED      &quot;
    echo &quot;-------------------------------------------------------&quot;
    exit 1
}

sync
sleep 1
sync 

echo &quot;#######################################################&quot;
echo &quot;  Lastest Grove.py from github install complete   !!!!!&quot;
echo &quot;#######################################################&quot;
exit 0
</code></pre>
<h2 id="step-6-executing-the-script">Step 6. Executing the script</h2>
<pre><code>python3 grove_oled_display_128x64.py
</code></pre>
<h2 id="results">Results:</h2>
<p><img alt="Image5" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/50yqp064c16et785wu1g.png" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>